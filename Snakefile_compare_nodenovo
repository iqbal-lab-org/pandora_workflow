from pathlib import Path
import itertools
from snakemake.utils import min_version

min_version("5.4.0")

# ======================================================
# Config files
# ======================================================
configfile: "config.yaml"

# ======================================================
# Functions
# ======================================================


# ======================================================
# Variables
# ======================================================
sample_data_dir = config["sample_data_dir"]
analysis_output_dir = config["analysis_output_dir"]
samples = config["samples"]


output_files = []
for technology, sample, coverage, strategy in itertools.product(
                                                    config["technologies"],
                                                    config["samples"],
                                                    config["coverages"],
                                                    config["subsample"]["strategies"]):
    output_files.extend([
        f"{analysis_output_dir}/{technology}/{coverage}x/{strategy}/compare_nodenovo_global_genotyping/pandora_multisample_genotyped_global.vcf",
    ])


# deduplicate
output_files = list(set(output_files))

# ======================================================
# Rules
# ======================================================
rule all:
    input:
         output_files

include: "rules/compare_nodenovo.smk"